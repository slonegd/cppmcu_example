ARM GAS  /tmp/ccPJFAIu.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"main.cpp"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.startup,"ax",%progbits
  16              		.align	1
  17              		.global	main
  18              		.syntax unified
  19              		.code	16
  20              		.thumb_func
  21              		.fpu softvfp
  23              	main:
  24              		.fnstart
  25              	.LFB0:
  26              		.file 1 "main.cpp"
   1:main.cpp      **** /**
   2:main.cpp      ****  * 18 –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –±–∏—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
   3:main.cpp      ****  **/
   4:main.cpp      **** 
   5:main.cpp      **** #include <stdint.h>
   6:main.cpp      **** 
   7:main.cpp      **** 
   8:main.cpp      **** // —É–ø–∞–∫–æ–≤–∞—ã–≤–∞–Ω–∏–µ –±–∏—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π —à—Ç—É–∫–∞ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è
   9:main.cpp      **** // —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ç–≤–µ—Ç—É —Ç—É—Ç 
  10:main.cpp      **** // https://ru.stackoverflow.com/questions/885645/–≥–ª—é–∫-—Å-–±–∏—Ç–æ–≤—ã–º–∏-–ø–æ–ª—è–º–∏-–∏-–ø–µ—
  11:main.cpp      **** // —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º —ç—Ç–æ –Ω–∏–∫–∞–∫ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
  12:main.cpp      **** // –ø–æ—ç—Ç–æ–º—É –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–µ–æ–∂–∏–¥–æ–Ω–Ω–æ—Å—Ç–∏ –∫–∞–∫ —Å–æ —Å—Ç—Ä—É–∫
  13:main.cpp      **** // –∫–æ—Ç–æ—Ä—É—é –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ —É–ø–∞–∫–æ–≤–∞–ª –≤ –æ–¥–Ω—É —è—á–µ–π–∫—É 32–±–∏—Ç–Ω–æ–
  14:main.cpp      **** struct {
  15:main.cpp      ****    enum Num { _0 = 0b000,_1,_2,_3,_4,_5,_6,_7 };
  16:main.cpp      ****    uint32_t pole1  : 6;
  17:main.cpp      ****    Num      pole2  : 3;
  18:main.cpp      ****    uint32_t pole3 : 23;
  19:main.cpp      **** } test1;
  20:main.cpp      **** 
  21:main.cpp      **** 
  22:main.cpp      **** // –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º–º—ã –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∞—Ç—Ç—Ä–∏–±—É
  23:main.cpp      **** // –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç —É–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å –±–∏—Ç—ã —Ç–∞–∫, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ
  24:main.cpp      **** // –ü—Ä–∏ —ç—Ç–æ–º –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
  25:main.cpp      **** // note: offset of packed bit-field '<unnamed struct>::pole2' has changed in GCC 4.4
  26:main.cpp      **** struct {
  27:main.cpp      ****    enum Num { _0 = 0b000,_1,_2,_3,_4,_5,_6,_7 };
  28:main.cpp      ****    uint32_t pole1  : 6;
  29:main.cpp      ****    Num      pole2  : 3;
  30:main.cpp      ****    uint32_t pole3 : 23;
  31:main.cpp      **** } __attribute__((packed)) test2;
  32:main.cpp      **** 
ARM GAS  /tmp/ccPJFAIu.s 			page 2


  33:main.cpp      **** int main()
  34:main.cpp      **** {
  27              		.loc 1 34 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  35:main.cpp      ****    volatile auto t1 = sizeof(test1); // –≤ –∞—Å—Å–µ–º–±–µ–ª–µ –≤–∏–¥–Ω–æ, —á—Ç–æ 8 –±–∞–π—Ç
  32              		.loc 1 35 0
  33 0000 0823     		movs	r3, #8
  36:main.cpp      ****    volatile auto t2 = sizeof(test2); // –≤ –∞—Å—Å–µ–º–±–µ–ª–µ –≤–∏–¥–Ω–æ, —á—Ç–æ 4 –±–∞–π—Ç + note,
  37:main.cpp      **** }
  34              		.loc 1 37 0
  35 0002 0020     		movs	r0, #0
  34:main.cpp      ****    volatile auto t1 = sizeof(test1); // –≤ –∞—Å—Å–µ–º–±–µ–ª–µ –≤–∏–¥–Ω–æ, —á—Ç–æ 8 –±–∞–π—Ç
  36              		.loc 1 34 0
  37 0004 82B0     		sub	sp, sp, #8
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 8
  35:main.cpp      ****    volatile auto t1 = sizeof(test1); // –≤ –∞—Å—Å–µ–º–±–µ–ª–µ –≤–∏–¥–Ω–æ, —á—Ç–æ 8 –±–∞–π—Ç
  40              		.loc 1 35 0
  41 0006 0093     		str	r3, [sp]
  36:main.cpp      ****    volatile auto t2 = sizeof(test2); // –≤ –∞—Å—Å–µ–º–±–µ–ª–µ –≤–∏–¥–Ω–æ, —á—Ç–æ 4 –±–∞–π—Ç + note,
  42              		.loc 1 36 0
  43 0008 043B     		subs	r3, r3, #4
  44 000a 0193     		str	r3, [sp, #4]
  45              		.loc 1 37 0
  46 000c 02B0     		add	sp, sp, #8
  47              		@ sp needed
  48 000e 7047     		bx	lr
  49              		.cfi_endproc
  50              	.LFE0:
  51              		.cantunwind
  52              		.fnend
  54              		.text
  55              	.Letext0:
  56              		.file 2 "/home/users/dvk/code/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_de
  57              		.file 3 "/home/users/dvk/code/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint
ARM GAS  /tmp/ccPJFAIu.s 			page 3


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.cpp
     /tmp/ccPJFAIu.s:16     .text.startup:0000000000000000 $t
     /tmp/ccPJFAIu.s:23     .text.startup:0000000000000000 main
          .ARM.exidx.text.startup:0000000000000000 $d

NO UNDEFINED SYMBOLS
